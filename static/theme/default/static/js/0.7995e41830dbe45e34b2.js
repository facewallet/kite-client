(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+ukr":function(t,e,s){},"/PXq":function(t,e,s){},"1Mp0":function(t,e,s){"use strict";s.r(e);var i=s("Kvkj"),a=s("qu4x"),o=s("8+Sn"),n=s("vuaj"),r=s.n(n),l=s("MrL/"),c=s.n(l),d=s("iHbI"),_=s("7Qib"),u=s("m0go"),m=s("YP4+"),p={name:"WriteBookView",minixs:[u.a],metaInfo(){return{title:"create"===this.$route.params.book_id?"创建小书章节":`编辑-${this.editDataInfo.title||""}`||"",meta:[{name:"description",content:"create"===this.$route.params.book_id?"创建小书章节":`编辑-${this.editDataInfo.title||""}`||""}],htmlAttrs:{lang:"zh"},script:[..._.a.statisticsCode({route:this.$route,googleCode:this.website.config.googleCode,random:""})],__dangerouslyDisableSanitizers:["script"]}},asyncData:async({store:t,route:e,accessToken:s=""})=>Promise.all([t.dispatch("PERSONAL_INFO",{accessToken:s}),t.dispatch("website/GET_WEBSITE_INFO"),t.dispatch("books/GET_BOOKS_INFO",{books_id:e.params.books_id,type:"info",accessToken:s})]),created(){this.currentWriteType=this.$route.query.type||"add"},mounted(){this.$store.dispatch("books/GET_BOOKS_BOOK_ALL",{books_id:this.$route.params.books_id}),this.initEdit()},data:()=>({currentWriteType:"",trialRead:m.c,trialReadText:m.d,isFree:m.a,write:{title:"",content:"",sort:0,trial_read:1},isShowAside:!0,toolbars:{bold:!0,italic:!0,header:!0,underline:!0,mark:!0,superscript:!0,quote:!0,ol:!0,link:!0,imagelink:!0,help:!0,code:!0,subfield:!0,fullscreen:!0,undo:!0,trash:!0,save:!1},editDataInfo:{}}),watch:{$route(t,e){this.initEdit()}},methods:{commandChange(t){"esc"!==t.name?this.$router.push(t):this.escLogin()},escLogin(){this.$message.warning("已退出当前账户，请重新登录"),o.a.delete("accessToken"),window.location.reload()},resetBook(){this.$confirm("此操作将恢复到初始编辑状态, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.initEdit()}).catch(()=>{})},deleteChapter(t){this.$confirm("此操作将永久删除该小书章节, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.$store.dispatch("book/DELETE_BOOK",{book_id:t}).then(t=>{"success"===t.state?(this.$message.success(t.message,",前往创建"),this.$store.dispatch("books/GET_BOOKS_BOOK_ALL",{books_id:this.$route.params.books_id}),this.writeChapter("create")):this.$message.warning(t.message)})}).catch(()=>{})},initEdit(){"create"!==this.$route.params.book_id?this.$store.dispatch("book/GET_USER_BOOK_INFO",{book_id:this.$route.params.book_id}).then(t=>{this.write=t.data.book,this.editDataInfo=t.data.book,this.write.content=t.data.book.origin_content}).catch(t=>{}):this.write={title:"",content:"",sort:this.books.booksBookAll?this.books.booksBookAll.length+1:0}},imageFilter(t){return!(t.size>1048576)||(this.$message.success("上传小书图片应该小于1M"),!1)},lookChapter(t){this.$router.push({name:"BookView",params:{books_id:this.$route.params.books_id,book_id:t}})},$imgAdd(t,e){var s=new FormData;s.append("file",e),this.$store.dispatch("common/UPLOAD_FILE",s).then(e=>{if("success"!==e.state)return this.$message.warning(e.message),!1;this.$message.success("上传图片成功"),this.$refs.mavonEditor.$img2Url(t,e.data.fileUrl)})},writeChapter(t){this.$router.push({name:"WriteBookView",params:{books_id:this.$route.params.books_id,book_id:t}})},saveBook(){if(!this.write.title)return this.$message.warning("小书章节标题不能为空！"),!1;if(!this.write.content)return this.$message.warning("小书章节内容不能为空！"),!1;var t={books_id:this.$route.params.books_id,title:this.write.title,trial_read:this.write.trial_read,content:c()(this.write.content,{breaks:!0}),origin_content:this.write.content,sort:this.write.sort};"create"!==this.$route.params.book_id&&(t.book_id=this.$route.params.book_id);let e="create"===this.$route.params.book_id?"book/CREATE_BOOK":"book/UPDATE_BOOK";this.$store.dispatch(e,t).then(t=>{"success"===t.state?(this.$message.success(t.message),"create"===this.$route.params.book_id&&this.writeChapter(t.data.book.book_id),this.$store.dispatch("books/GET_BOOKS_BOOK_ALL",{books_id:this.$route.params.books_id})):this.$message.warning(t.message)}).catch(t=>{this.$message.error("出现错误："+t)})}},computed:{...Object(d.b)(["books","personalInfo","website"])},components:{"mavon-editor":a.mavonEditor,UploadImage:i.g,ClientOnly:r.a,Dropdown:i.b}},h=(s("R1GB"),s("6Qow")),v=Object(h.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("client-only",[s("div",{staticClass:"book-read-view"},[s("div",{staticClass:"book-section",class:{"fold-pc":!t.isShowAside}},[s("div",{staticClass:"book-summary"},[s("div",{staticClass:"book-summary-inner"},[s("div",{staticClass:"book-summary__header"},[t.website.meta.logo?s("router-link",{staticClass:"navbar-brand logo",style:{"background-image":"url("+t.website.meta.logo+")"},attrs:{to:{name:"home"}}}):s("router-link",{staticClass:"navbar-brand logo-text",attrs:{to:{name:"home"}}},[t._v(t._s(t.website.meta.website_name))]),t._v(" "),s("div",{staticClass:"label"},[t._v("小书")])],1),t._v(" "),s("div",{staticClass:"book-summary-btn"},[s("div",{staticClass:"section-buy",on:{click:function(e){return t.writeChapter("create")}}},[t._v("创建新章节")])]),t._v(" "),s("div",{staticClass:"book-directory",class:{bought:t.personalInfo.islogin}},t._l(t.books.booksBookAll,(function(e,i){return s("router-link",{key:i,staticClass:"section",attrs:{to:{name:"WriteBookView",params:{books_id:t.$route.params.books_id,book_id:e.book_id}}}},[s("div",{staticClass:"step"},[s("div",{staticClass:"step-btn"},[t._v(t._s(i+1))])]),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"title"},[t._v(t._s(e.title))])])])})),1),t._v(" "),s("div",{staticClass:"book-summary__footer"})])]),t._v(" "),s("div",{staticClass:"book-content"},[s("div",{staticClass:"book-content-inner"},[s("div",{staticClass:"book-content__header"},[s("div",{staticClass:"menu",on:{click:function(e){t.isShowAside=!t.isShowAside}}},[s("i",{staticClass:"el-icon-s-operation"})]),t._v(" "),s("div",{staticClass:"title"},[s("router-link",{attrs:{to:{name:"book",params:{books_id:t.$route.params.books_id}}}},[t._v(t._s(t.books.booksInfo.title))])],1),t._v(" "),s("div",{staticClass:"user-auth"},[t.personalInfo.islogin?s("div",{staticClass:"nav-item dropdown"},[s("Dropdown",{attrs:{placement:"right"}},[s("div",{staticClass:"el-dropdown-link",attrs:{slot:"button"},slot:"button"},[s("div",{staticClass:"avatar-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.personalInfo.user.avatar,expression:"personalInfo.user.avatar"}],staticClass:"box-image",attrs:{alt:""}})])]),t._v(" "),s("div",{staticClass:"dropdown-menu-view"},[s("router-link",{staticClass:"dropdown-menu-item",attrs:{to:{name:"user",params:{uid:t.personalInfo.user.uid,routeType:"article"}}}},[t._v("\n                      我的主页")]),t._v(" "),s("router-link",{staticClass:"dropdown-menu-item",attrs:{to:{name:"setting"}}},[t._v("\n                      设置")]),t._v(" "),s("div",{staticClass:"dropdown-menu-item",on:{click:t.escLogin}},[t._v("\n                      退出\n                    ")])],1)])],1):s("div",{staticClass:"nav-item auth"},["yes"===t.website.config.on_login?s("div",{staticClass:"nav-item-view"},[s("router-link",{staticClass:"btn btn-sm sign-btn btn-block",attrs:{to:{name:"signIn"}}},[t._v("登录")])],1):t._e(),t._v(" "),"yes"===t.website.config.on_register?s("div",{staticClass:"nav-item-view"},[s("router-link",{staticClass:"btn s-btn--primary btn-sm sign-btn btn-outline-warning",attrs:{to:{name:"signIn"}}},[t._v("注册")])],1):t._e()])])]),t._v(" "),s("div",{staticClass:"book-body transition--next"},[s("div",{staticClass:"section-content"},[s("div",{staticClass:"operating clearfix"},[s("button",{staticClass:"btn btn-save",on:{click:t.saveBook}},[t._v(t._s("create"===t.$route.params.book_id?"新建小书章节":"更新当前章节"))]),t._v(" "),"create"!==t.$route.params.book_id?s("button",{staticClass:"btn btn-cancel",on:{click:t.resetBook}},[t._v("恢复默认稿")]):t._e(),t._v(" "),"create"!==t.$route.params.book_id?s("button",{staticClass:"btn btn-look",on:{click:function(e){return t.lookChapter(t.editDataInfo.book_id)}}},[t._v("查看演示")]):t._e(),t._v(" "),t.books.booksInfo.is_free===t.isFree.pay?s("div",{staticClass:"trial-read"},[s("label",{attrs:{for:""}},[t._v("开启试读：")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.write.trial_read,expression:"write.trial_read"}],staticClass:"trial-read-select",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.write,"trial_read",e.target.multiple?s:s[0])}}},t._l(t.trialReadText,(function(e,i){return s("option",{key:i,domProps:{value:i}},[t._v(t._s(e))])})),0)]):t._e(),t._v(" "),"create"!==t.$route.params.book_id?s("button",{staticClass:"btn btn-delete",on:{click:function(e){return t.deleteChapter(t.editDataInfo.book_id)}}},[s("i",{staticClass:"el-icon-delete"})]):t._e()]),t._v(" "),s("div",{staticClass:"content-edit"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.write.title,expression:"write.title"}],staticClass:"title-input",attrs:{type:"text"},domProps:{value:t.write.title},on:{input:function(e){e.target.composing||t.$set(t.write,"title",e.target.value)}}}),t._v(" "),s("mavon-editor",{ref:"mavonEditor",attrs:{defaultOpen:"edit",boxShadow:!1,toolbars:t.toolbars,imageFilter:t.imageFilter},on:{imgAdd:t.$imgAdd},model:{value:t.write.content,callback:function(e){t.$set(t.write,"content",e)},expression:"write.content"}})],1)])])])])])])])}),[],!1,null,"33d0fa3b",null);e.default=v.exports},"3Pwy":function(t,e,s){"use strict";var i=s("Ay1A");s.n(i).a},"3nZa":function(t,e,s){"use strict";var i=s("Yml5");s.n(i).a},"6Pmt":function(t,e,s){"use strict";var i=s("AnQe");s.n(i).a},"7Qib":function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));var i=class{static statisticsCode({route:t,googleCode:e="",random:s=""}){let i=[];return e&&i.push({src:`https://www.googletagmanager.com/gtag/js?id=${e}&_random=${t.name+s}`,type:"text/javascript"}),i}static injectionGoogleCode(t=""){if(t){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config",t)}}}},"83mT":function(t,e,s){},Alhn:function(t,e,s){"use strict";s.r(e);var i={name:"s-md-toolbar-right",props:{s_subfield:{type:Boolean,required:!0},toolbars:{type:Object,required:!0},s_preview_switch:{type:Boolean,required:!0},s_fullScreen:{type:Boolean,required:!0},s_html_code:{type:Boolean,required:!0},s_navigation:{type:Boolean,required:!0},d_words:{type:Object,required:!0}},methods:{$clicks(t){this.$emit("toolbar_right_click",t)}}},a=s("6Qow"),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-right-item"},[t._t("right-toolbar-before"),t._v(" "),t.toolbars.navigation?s("button",{directives:[{name:"show",rawName:"v-show",value:!t.s_navigation,expression:"!s_navigation"}],staticClass:"op-icon fa fa-mavon-bars",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_navigation_on+" (F8)"},on:{click:function(e){return t.$clicks("navigation")}}}):t._e(),t._v(" "),t.toolbars.navigation?s("button",{directives:[{name:"show",rawName:"v-show",value:t.s_navigation,expression:"s_navigation"}],staticClass:"op-icon fa fa-mavon-bars selected",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_navigation_off+" (F8)"},on:{click:function(e){return t.$clicks("navigation")}}}):t._e(),t._v(" "),t.toolbars.preview?s("button",{directives:[{name:"show",rawName:"v-show",value:t.s_preview_switch,expression:"s_preview_switch"}],staticClass:"op-icon fa fa-mavon-eye-slash selected",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_edit+" (F9)"},on:{click:function(e){return t.$clicks("preview")}}}):t._e(),t._v(" "),t.toolbars.preview?s("button",{directives:[{name:"show",rawName:"v-show",value:!t.s_preview_switch,expression:"!s_preview_switch"}],staticClass:"op-icon fa fa-mavon-eye",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_preview+" (F9)"},on:{click:function(e){return t.$clicks("preview")}}}):t._e(),t._v(" "),t.toolbars.fullscreen?s("button",{directives:[{name:"show",rawName:"v-show",value:!t.s_fullScreen,expression:"!s_fullScreen"}],staticClass:"op-icon fa fa-mavon-arrows-alt",attrs:{type:"button",title:t.d_words.tl_fullscreen_on+" (F10)","aria-hidden":"true"},on:{click:function(e){return t.$clicks("fullscreen")}}}):t._e(),t._v(" "),t.toolbars.fullscreen?s("button",{directives:[{name:"show",rawName:"v-show",value:t.s_fullScreen,expression:"s_fullScreen"}],staticClass:"op-icon fa fa-mavon-compress selected",attrs:{type:"button",title:t.d_words.tl_fullscreen_off+" (F10)","aria-hidden":"true"},on:{click:function(e){return t.$clicks("fullscreen")}}}):t._e(),t._v(" "),t.toolbars.readmodel?s("button",{staticClass:"op-icon fa fa-mavon-window-maximize",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_read+" (F11)"},on:{click:function(e){return t.$clicks("read")}}}):t._e(),t._v(" "),t.toolbars.subfield?s("button",{staticClass:"op-icon fa fa-mavon-columns",class:{selected:t.s_subfield},attrs:{type:"button","aria-hidden":"true",title:(t.s_subfield?t.d_words.tl_single_column:t.d_words.tl_double_column)+" (F12)"},on:{click:function(e){return t.$clicks("subfield")}}}):t._e(),t._v(" "),t.toolbars.help&&t.toolbars.htmlcode&&t.toolbars.readmodel&&t.toolbars.fullscreen&&t.toolbars.subfield&&t.toolbars.navigation?s("span",{staticClass:"op-icon-divider"}):t._e(),t._v(" "),t.toolbars.htmlcode?s("button",{directives:[{name:"show",rawName:"v-show",value:!t.s_html_code,expression:"!s_html_code"}],staticClass:"op-icon fa fa-mavon-code",attrs:{type:"button",title:t.d_words.tl_html_on,"aria-hidden":"true"},on:{click:function(e){return t.$clicks("html")}}}):t._e(),t._v(" "),t.toolbars.htmlcode?s("button",{directives:[{name:"show",rawName:"v-show",value:t.s_html_code,expression:"s_html_code"}],staticClass:"op-icon fa fa-mavon-code selected",attrs:{type:"button",title:t.d_words.tl_html_off,"aria-hidden":"true"},on:{click:function(e){return t.$clicks("html")}}}):t._e(),t._v(" "),t.toolbars.help?s("button",{staticClass:"op-icon fa fa-mavon-question-circle",staticStyle:{"font-size":"17px",padding:"5px 6px 5px 3px"},attrs:{type:"button",title:t.d_words.tl_help,"aria-hidden":"true"},on:{click:function(e){return t.$clicks("help")}}}):t._e(),t._v(" "),t._t("right-toolbar-after")],2)}),[],!1,null,null,null);e.default=o.exports},AnQe:function(t,e,s){},Ay1A:function(t,e,s){},BLL0:function(module,__webpack_exports__,__webpack_require__){"use strict";var _components_md_toolbar_left__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("nqCT"),_components_md_toolbar_right__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("Alhn"),_libs_toobar_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("LFX6"),_libs_core_extra_function_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a9wT"),_components_auto_textarea__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("is6g"),_libs_lang__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("PKEJ"),_libs_config_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("IW2X"),_libs_css_fontello_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("xIR0"),_libs_css_fontello_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_libs_css_fontello_css__WEBPACK_IMPORTED_MODULE_7__),marked__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("MrL/"),marked__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_8__),_libs_mixins_markdown_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("sFCI");__webpack_exports__.a={name:"MarkDown",mixins:[_libs_mixins_markdown_js__WEBPACK_IMPORTED_MODULE_9__.a],props:{value:{type:String,default:""},scrollStyle:{type:Boolean,default:!0},boxShadow:{type:Boolean,default:!0},boxShadowStyle:{type:String,default:"0 2px 12px 0 rgba(0, 0, 0, 0.1)"},toolbarsFlag:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},placeholder:{type:String,default:null},navigation:{type:Boolean,default:!1},fontSize:{type:String,default:"15px"},toolbars:{type:Object,default:()=>_libs_config_js__WEBPACK_IMPORTED_MODULE_6__.a.toolbars},previewBackground:{type:String,default:"#fbfbfb"},toolbarsBackground:{type:String,default:"#ffffff"},editorBackground:{type:String,default:"#ffffff"},editable:{type:Boolean,default:!0},subfield:{type:Boolean,default:!0},imageFilter:{type:Function,default:null}},data(){return{newValue:"",s_fullScreen:!1,s_subfield:(()=>this.subfield)(),s_navigation:(()=>this.navigation)(),s_scrollStyle:(()=>this.scrollStyle)(),s_readmodel:!1,d_history:(()=>{let t=[];return t.push(this.value),t})(),d_history_index:0,d_render:"",s_preview_switch:(()=>{let t=this.defaultOpen;return t||(t=this.subfield?"preview":"edit"),"preview"===t})(),s_html_code:!1,d_value:"",d_words:null}},mounted(){this.d_value=this.value},watch:{d_value:function(t,e){this.iRender()},value:function(t,e){t!==this.d_value&&(this.d_value=t)}},created(){this.init()},methods:{init(){var t=this;this.d_words=_libs_lang__WEBPACK_IMPORTED_MODULE_5__.a,t.$render("",(function(e){t.d_help=e}))},getTextareaDom(){return this.$refs.vNoteTextarea.$refs.vTextarea},insertUl(){Object(_libs_core_extra_function_js__WEBPACK_IMPORTED_MODULE_3__.d)(this)},insertOl(){Object(_libs_core_extra_function_js__WEBPACK_IMPORTED_MODULE_3__.b)(this)},$imgTouch(t){},iRender(){var t=this;t.$render(t.d_value,(function(e){t.d_render=e,t.change&&t.change(t.d_value,t.d_render),t.s_navigation&&Object(_libs_core_extra_function_js__WEBPACK_IMPORTED_MODULE_3__.a)(t,!1),t.$emit("input",t.d_value),t.d_value!==t.d_history[t.d_history_index]&&(window.clearTimeout(t.currentTimeout),t.currentTimeout=setTimeout(()=>{t.saveHistory()},500))}))},saveHistory(){this.d_history.splice(this.d_history_index+1,this.d_history.length),this.d_history.push(this.d_value),this.d_history_index=this.d_history.length-1},$imgDel(t){let e=t[0],s=new RegExp(`\\!\\[${t[1]._name}\\]\\(${e}\\)`,"g");this.d_value=this.d_value.replace(s,""),this.iRender(),this.$emit("imgDel",t)},$imgAdd(t,e,s){void 0===s&&(s=!0);var i=this;if(null==this.__rFilter&&(this.__rFilter=/^image\//i),this.__oFReader=new FileReader,this.__oFReader.onload=function(a){e.miniurl=a.target.result,!0===s&&(e._name=e.name.replace(/[\[\]\(\)\+\{\}&\|\\\*^%$#@\-]/g,""),i.insertText(i.getTextareaDom(),{prefix:"!["+e._name+"]("+t+")",subfix:"",str:""}),i.$nextTick((function(){i.$emit("imgAdd",t,e)})))},e){var a=e;this.__rFilter.test(a.type)&&this.__oFReader.readAsDataURL(a)}},$img2Url(fileIndex,url){var reg_str="/(!\\[[^\\[]*?\\](?=\\())\\(\\s*("+fileIndex+")\\s*\\)/g",reg=eval(reg_str);this.d_value=this.d_value.replace(reg,"$1("+url+")"),this.$refs.toolbar_left.$changeUrl(fileIndex,url),this.iRender()},defaultOpen(t){let e=t;return e||(e=this.subfield?"preview":"edit"),this.s_preview_switch="preview"===e},$v_edit_scroll(t){Object(_libs_core_extra_function_js__WEBPACK_IMPORTED_MODULE_3__.f)(t,this)},textAreaFocus(){this.$refs.vNoteTextarea.$refs.vTextarea.focus()},insertText(t,{prefix:e,subfix:s,str:i,type:a}){Object(_libs_core_extra_function_js__WEBPACK_IMPORTED_MODULE_3__.c)(t,{prefix:e,subfix:s,str:i,type:a},this)},toolbar_left_addlink(t,e,s){Object(_libs_toobar_js__WEBPACK_IMPORTED_MODULE_2__.a)(t,e,s,this)},toolbar_left_click(t){Object(_libs_toobar_js__WEBPACK_IMPORTED_MODULE_2__.b)(t,this)},toolbar_right_click(t){Object(_libs_toobar_js__WEBPACK_IMPORTED_MODULE_2__.c)(t,this)}},components:{mdToolbarleft:_components_md_toolbar_left__WEBPACK_IMPORTED_MODULE_0__.default,mdToolbarRight:_components_md_toolbar_right__WEBPACK_IMPORTED_MODULE_1__.default,autoTextara:_components_auto_textarea__WEBPACK_IMPORTED_MODULE_4__.a}}},Cthe:function(t,e,s){"use strict";var i=s("83mT");s.n(i).a},IW2X:function(t,e,s){"use strict";s.d(e,"a",(function(){return i}));const i={langList:["en","zh-CN","fr","pt-BR","ru","de","ja"],toolbars:{bold:!0,italic:!0,header:!0,underline:!0,strikethrough:!0,mark:!0,superscript:!0,subscript:!0,quote:!0,ol:!0,ul:!0,link:!0,imagelink:!0,code:!0,table:!0,undo:!0,redo:!0,trash:!0,save:!0,alignleft:!0,aligncenter:!0,alignright:!0,navigation:!0,subfield:!0,fullscreen:!0,readmodel:!0,htmlcode:!0,help:!0,preview:!0}}},KPoT:function(t,e,s){"use strict";var i=s("UL9V");s.n(i).a},LFX6:function(t,e,s){"use strict";s.d(e,"a",(function(){return _})),s.d(e,"b",(function(){return u})),s.d(e,"c",(function(){return w}));var i=s("PKEJ");function a(t){if(t.d_history_index>0&&t.d_history_index--,t.s_preview_switch){let e=t.getTextareaDom().selectionStart,s=t.d_value.length;t.$nextTick(()=>{e-=s-t.d_value.length,t.getTextareaDom().selectionStart=e,t.getTextareaDom().selectionEnd=e})}t.getTextareaDom().focus()}function o(t){t.d_history_index<t.d_history.length-1&&t.d_history_index++,t.getTextareaDom().focus()}function n(t){t.d_value="",t.getTextareaDom().focus()}function r(t){t.save(t.d_value,t.d_render)}function l(t){t.insertOl()}function c(t){t.insertUl()}function d(t){t.removeLine()}const _=(t,e,s,i)=>{let a={prefix:"link"===t?`[${e}](`:`![${e}](`,subfix:")",str:s};i.insertText(i.getTextareaDom(),a)},u=(t,e)=>{var s={bold:{prefix:"**",subfix:"**",str:i.a.tl_bold},italic:{prefix:"*",subfix:"*",str:i.a.tl_italic},header:{prefix:"# ",subfix:"",str:i.a.tl_header},header1:{prefix:"# ",subfix:"",str:i.a.tl_header_one},header2:{prefix:"## ",subfix:"",str:i.a.tl_header_two},header3:{prefix:"### ",subfix:"",str:i.a.tl_header_three},header4:{prefix:"#### ",subfix:"",str:i.a.tl_header_four},header5:{prefix:"##### ",subfix:"",str:i.a.tl_header_five},header6:{prefix:"###### ",subfix:"",str:i.a.tl_header_six},underline:{prefix:"++",subfix:"++",str:i.a.tl_underline},strikethrough:{prefix:"~~",subfix:"~~",str:i.a.tl_strikethrough},mark:{prefix:"==",subfix:"==",str:i.a.tl_mark},superscript:{prefix:"^",subfix:"^",str:i.a.tl_superscript},subscript:{prefix:"~",subfix:"~",str:i.a.tl_subscript},quote:{prefix:"> ",subfix:"",str:i.a.tl_quote},link:{prefix:"[](",subfix:")",str:i.a.tl_link},imagelink:{prefix:"![](",subfix:")",str:i.a.tl_image},code:{prefix:"```",subfix:"\n\n```\n",str:"language"},table:{prefix:"",subfix:"",str:"|column1|column2|column3|\n|-|-|-|\n|content1|content2|content3|\n"},aligncenter:{prefix:"::: hljs-center\n\n",subfix:"\n\n:::\n",str:i.a.tl_aligncenter},alignright:{prefix:"::: hljs-right\n\n",subfix:"\n\n:::\n",str:i.a.tl_alignright},alignleft:{prefix:"::: hljs-left\n\n",subfix:"\n\n:::\n",str:i.a.tl_alignleft}};s.hasOwnProperty(t)&&e.insertText(e.getTextareaDom(),s[t]);var _={undo:a,redo:o,trash:n,save:r,ol:l,ul:c,removeLine:d};_.hasOwnProperty(t)&&_[t](e)};function m(t){t.s_html_code=!t.s_html_code,t.htmlcode&&t.htmlcode(t.s_html_code,t.d_value)}function p(t){t.s_help=!t.s_help,t.helptoggle&&t.helptoggle(t.s_help,t.d_value)}function h(t){let e=t.$refs.vReadModel;e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()}function v(t){t.s_preview_switch=!t.s_preview_switch,t.previewtoggle&&t.previewtoggle(t.s_preview_switch,t.d_value)}function f(t){t.s_fullScreen=!t.s_fullScreen,t.fullscreen&&t.fullscreen(t.s_fullScreen,t.d_value)}function g(t){t.s_subfield=!t.s_subfield,t.s_preview_switch=t.s_subfield,t.previewtoggle&&t.previewtoggle(t.s_preview_switch,t.d_value),t.subfieldtoggle&&t.subfieldtoggle(t.s_subfield,t.d_value)}function b(t){t.s_navigation=!t.s_navigation,t.s_navigation&&(t.s_preview_switch=!0),t.navigationtoggle&&t.navigationtoggle(t.s_navigation,t.d_value),t.s_navigation&&t.getNavigation(t,!1)}const w=(t,e)=>{var s={help:p,html:m,read:h,preview:v,fullscreen:f,navigation:b,subfield:g};s.hasOwnProperty(t)&&s[t](e)}},OIMU:function(t,e,s){"use strict";var i=s("bByx");s.n(i).a},PKEJ:function(t,e,s){"use strict";e.a={start_editor:"开始编辑...",navigation_title:"导航目录",tl_bold:"粗体",tl_italic:"斜体",tl_header:"标题",tl_header_one:"一级标题",tl_header_two:"二级标题",tl_header_three:"三级标题",tl_header_four:"四级标题",tl_header_five:"五级标题",tl_header_six:"六级标题",tl_underline:"下划线",tl_strikethrough:"中划线",tl_mark:"标记",tl_superscript:"上角标",tl_subscript:"下角标",tl_quote:"段落引用",tl_ol:"有序列表",tl_ul:"无序列表",tl_link:"链接",tl_image:"添加图片链接",tl_code:"代码块",tl_table:"表格",tl_undo:"上一步",tl_redo:"下一步",tl_trash:"清空",tl_save:"保存",tl_navigation_on:"开启标题导航",tl_navigation_off:"关闭标题导航",tl_preview:"预览",tl_aligncenter:"居中",tl_alignleft:"居左",tl_alignright:"居右",tl_edit:"编辑",tl_single_column:"单栏",tl_double_column:"双栏",tl_fullscreen_on:"全屏编辑",tl_fullscreen_off:"退出全屏",tl_read:"沉浸式阅读",tl_html_on:"查看html文本",tl_html_off:"返回markdown文本",tl_help:"markdown语法帮助",tl_upload:"上传图片",tl_upload_remove:"删除",tl_popup_link_title:"添加链接",tl_popup_link_text:"链接描述",tl_popup_link_addr:"链接地址",tl_popup_img_link_title:"添加图片",tl_popup_img_link_text:"图片描述",tl_popup_img_link_addr:"图片链接",tl_popup_link_sure:"确定",tl_popup_link_cancel:"取消"}},QG78:function(t,e,s){"use strict";s.r(e);var i=s("Kvkj"),a=s("vuaj"),o=s.n(a),n=s("iHbI"),r=s("XFvl"),l={name:"SignUp",metaInfo(){return{title:`${this.website.meta.website_name}-注册`,htmlAttrs:{lang:"zh"}}},asyncData:({store:t,route:e,accessToken:s=""})=>Promise.all([t.dispatch("PERSONAL_INFO",{accessToken:s}),t.dispatch("website/GET_WEBSITE_INFO"),t.dispatch("articleTag/GET_ARTICLE_TAG_ALL")]),data:()=>({isSendCode:!1,isSendCodeSuccess:!1,formData:{nickname:"",email:"",phone:"",code:"",type:"email",password:"",double_password:""}}),mounted(){this.$store.registerModule("sign",r.a)},methods:{sendCode(){this.isSendCodeSuccess=!0,this.$store.dispatch("sign/SIGN_SEND_CODE",{email:this.formData.email}).then(t=>{this.isSendCodeSuccess=!1,"success"===t.state?this.isSendCode=!0:this.$message.warning(t.message)})},register(){this.$store.dispatch("sign/REGISTER",this.formData).then(t=>{"success"===t.state?(this.$message.success(t.message),this.$refs.register.reset(),this.$router.push({name:"signIn"})):this.$message.warning(t.message)})},tapSign(){this.$router.push({name:"signIn"})}},computed:{...Object(n.b)(["website"])},components:{"send-code":i.i,ClientOnly:o.a},destroyed(){this.$store.unregisterModule("sign")}},c=s("6Qow"),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ClientOnly",[s("section",{staticClass:"sign-lay layout-content"},[s("div",{staticClass:"sign-view client-card"},[s("div",{staticClass:"title"},[t._v("\n        注册\n      ")]),t._v(" "),s("div",{staticClass:"js-sign-in-container"},[s("form",{ref:"register",attrs:{id:"sign-up","accept-charset":"UTF-8",method:"post"}},[s("div",{staticClass:"input-prepend restyle js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.nickname,expression:"formData.nickname"}],staticClass:"nickname",attrs:{type:"text",placeholder:"你的昵称"},domProps:{value:t.formData.nickname},on:{input:function(e){e.target.composing||t.$set(t.formData,"nickname",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-user-solid"})]),t._v(" "),s("div",{staticClass:"input-prepend email-view"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"send-email-input account",attrs:{type:"text",placeholder:"邮箱"},domProps:{value:t.formData.email},on:{input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-message"}),t._v(" "),s("send-code",{staticClass:"btn-send-email-code",attrs:{isSend:t.isSendCodeSuccess,"storage-key":"sendEmailCode"},nativeOn:{click:function(e){return t.sendCode(e)}},model:{value:t.isSendCode,callback:function(e){t.isSendCode=e},expression:"isSendCode"}})],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.formData.email,expression:"formData.email"}],staticClass:"input-prepend email-view-code"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.code,expression:"formData.code"}],staticClass:"send-email-code code",attrs:{type:"text",placeholder:"请输入验证码"},domProps:{value:t.formData.code},on:{input:function(e){e.target.composing||t.$set(t.formData,"code",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-chat-round"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],staticClass:"password",attrs:{type:"password",placeholder:"密码"},domProps:{value:t.formData.password},on:{input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-key"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.double_password,expression:"formData.double_password"}],staticClass:"double_password",attrs:{type:"password",placeholder:"重复密码"},domProps:{value:t.formData.double_password},on:{input:function(e){e.target.composing||t.$set(t.formData,"double_password",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-key"})]),t._v(" "),s("div",{staticClass:"footer-text"},[t._v("已有账户， "),s("em",{on:{click:t.tapSign}},[t._v("登录")])]),t._v(" "),s("button",{staticClass:"sign-up-button",attrs:{type:"button"},on:{click:t.register}},[t._v("注册")])])])])])])}),[],!1,null,null,null);e.default=d.exports},Qfy6:function(t,e,s){},R1GB:function(t,e,s){"use strict";var i=s("+ukr");s.n(i).a},UL9V:function(t,e,s){},V960:function(t,e,s){"use strict";var i=s("m9gY");s.n(i).a},W3NW:function(t,e,s){"use strict";var i=s("c+4f");s.n(i).a},XFvl:function(t,e,s){"use strict";var i=s("IodM");const a={SIGN_SEND_CODE:({commit:t,dispatch:e,state:s},{email:a})=>Object(i.a)({url:"/sign-up-code",method:"post",parameter:{email:a}}),LOGIN:({commit:t,dispatch:e,state:s},a)=>Object(i.a)({url:"/sign-in",method:"post",parameter:a}),REGISTER:({commit:t,dispatch:e,state:s},a)=>Object(i.a)({url:"/sign-up",method:"post",parameter:a}),RESET_PASSWORD_CODE:({commit:t,dispatch:e,state:s},a)=>Object(i.a)({url:"/reset-password-code",method:"post",parameter:a}),RESET_PASSWORD:({commit:t,dispatch:e,state:s},a)=>Object(i.a)({url:"/reset-password",method:"post",parameter:a})};e.a={namespaced:!0,state:()=>({}),mutations:{},actions:a}},XKrt:function(t,e,s){"use strict";var i=s("vOnc");s.n(i).a},"YP4+":function(t,e,s){"use strict";s.d(e,"b",(function(){return i})),s.d(e,"a",(function(){return a})),s.d(e,"c",(function(){return o})),s.d(e,"d",(function(){return n}));const i={pendingReview:1,reviewSuccess:2,reviewFail:3,freeReview:4,deleted:5,draft:6},a=(i.pendingReview,i.reviewSuccess,i.reviewFail,i.freeReview,i.deleted,i.draft,{free:1,pay:2}),o=(a.free,a.pay,{yes:1,no:2}),n={[o.yes]:"开启",[o.no]:"关闭"}},Yml5:function(t,e,s){},ZYqM:function(t,e,s){"use strict";s.r(e);var i=s("8+Sn"),a=s("vuaj"),o=s.n(a),n=s("iHbI"),r=s("XFvl"),l={name:"SignIn",metaInfo(){return{title:`${this.website.meta.website_name}-登录`,htmlAttrs:{lang:"zh"}}},asyncData:({store:t,route:e,accessToken:s=""})=>Promise.all([t.dispatch("PERSONAL_INFO",{accessToken:s}),t.dispatch("website/GET_WEBSITE_INFO"),t.dispatch("articleTag/GET_ARTICLE_TAG_ALL")]),mounted(){this.$store.registerModule("sign",r.a)},data:()=>({formData:{email:"",phone:"",type:"email",password:""}}),methods:{login(){this.$store.dispatch("sign/LOGIN",this.formData).then(t=>{"success"===t.state?(this.$message.success(t.message),this.$refs.login.reset(),i.a.set("accessToken",t.data.token,7),this.$router.push({name:"home"})):this.$message.warning(t.message)})},tapRegister(){this.$router.push({name:"signUp"})},tapResetPassword(){this.$router.push({name:"resetPassword"})}},computed:{...Object(n.b)(["website"])},components:{ClientOnly:o.a},destroyed(){this.$store.unregisterModule("sign")}},c=(s("W3NW"),s("6Qow")),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ClientOnly",[s("section",{staticClass:"sign-lay layout-content"},[s("div",{staticClass:"sign-view client-card"},[s("div",{staticClass:"title"},[t._v("\n        登录\n      ")]),t._v(" "),s("div",{staticClass:"js-sign-in-container"},[s("form",{ref:"login",attrs:{id:"new_session"}},[s("div",{staticClass:"input-prepend restyle js-normal"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],attrs:{placeholder:"邮箱",type:"text",value:""},domProps:{value:t.formData.email},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-user-solid"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.password,expression:"formData.password"}],attrs:{placeholder:"密码",type:"password",name:"password",value:""},domProps:{value:t.formData.password},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(e)},input:function(e){e.target.composing||t.$set(t.formData,"password",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-key"})]),t._v(" "),s("div",{staticClass:"remember-btn clearfix"},[s("div",{staticClass:"pull-left"},[t._v("\n              没有账号？ "),s("em",{staticClass:"reg-btn",on:{click:t.tapRegister}},[t._v("注册")])]),t._v(" "),s("div",{staticClass:"pull-right"},[s("a",{attrs:{href:"javascript:;"},on:{click:t.tapResetPassword}},[t._v("忘记密码")])])]),t._v(" "),s("div",{staticClass:"footer-text"}),t._v(" "),s("button",{staticClass:"sign-in-button",attrs:{id:"sign-in-form-submit-btn",type:"button"},on:{click:t.login}},[t._v("\n            登录\n          ")]),t._v(" "),~t.website.oauths.indexOf("github")?s("div",{staticClass:"other-login"},[s("a",{staticClass:"github",attrs:{href:"/api-client/v1/oauth/github-oauth"}},[t._v("通过github登录")])]):t._e(),t._v(" "),s("router-link",{staticClass:"return-home",attrs:{to:{name:"home"}}},[t._v("返回首页")])],1)])])])])}),[],!1,null,"bf2fd91a",null);e.default=d.exports},a9wT:function(t,e,s){"use strict";s.d(e,"c",(function(){return i})),s.d(e,"b",(function(){return a})),s.d(e,"d",(function(){return o})),s.d(e,"a",(function(){return n})),s.d(e,"f",(function(){return r})),s.d(e,"e",(function(){return l}));
/**
 * @Author: HuaChao Chen <chc>
 * @Date:   2017-06-14T23:04:34+08:00
 * @Email:  chenhuachaoxyz@gmail.com
 * @Filename: extra-function.js
 * @Last modified by:   CHC
 * @Last modified time: 2017-12-19T17:46:48+08:00
 * @License: MIT
 * @Copyright: 2017
 */
const i=(t,{prefix:e,subfix:s,str:i,type:a},o)=>{if(t.focus(),"number"==typeof t.selectionStart&&"number"==typeof t.selectionEnd){var n=t.selectionStart,r=t.selectionEnd,l=t.value;n===r?(t.value=l.substring(0,n)+e+i+s+l.substring(r,l.length),t.selectionStart=n+e.length,t.selectionEnd=n+(i.length+e.length)):l.substring(n-e.length,n)===e&&l.substring(r,r+s.length)===s&&function(t,e,s,i,a){if("*"===t&&"*"===e&&"*"===s.substring(i-2,i-1)&&"*"===s.substring(a+1,a+2))return!1;return!0}(e,s,l,n,r)?(t.value=l.substring(0,n-e.length)+l.substring(n,r)+l.substring(r+s.length,l.length),t.selectionStart=n-e.length,t.selectionEnd=r-e.length):(t.value=l.substring(0,n)+e+l.substring(n,r)+s+l.substring(r,l.length),t.selectionStart=n+e.length,t.selectionEnd=n+(r-n+e.length))}else alert("Error: Browser version is too low");o.d_value=t.value,t.focus()};const a=t=>{let e=t.getTextareaDom();if("number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd){var s=e.selectionStart,i=e.selectionEnd,a=e.value;if(s===i)e.value=a.substring(0,s)+"1. "+a.substring(i,a.length),e.selectionEnd=e.selectionStart=s+3;else{let t=s;for(;t>0&&"\n"!==a.substring(t-1,t);)t--;let o=a.substring(t,i),n=o.split("\n");for(let t=0;t<n.length;t++)n[t]=t+1+". "+n[t];let r=n.join("\n");e.value=a.substring(0,t)+r+a.substring(i,a.length),e.selectionStart=t,e.selectionEnd=i+r.length-o.length}}else alert("Error: Browser version is too low");t.d_value=e.value,e.focus()},o=t=>{let e=t.getTextareaDom();if("number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd){var s=e.selectionStart,i=e.selectionEnd,a=e.value;if(s===i)e.value=a.substring(0,s)+"- "+a.substring(i,a.length),e.selectionEnd=e.selectionStart=s+2;else{let t=s;for(;t>0&&"\n"!==a.substring(t-1,t);)t--;let o=a.substring(t,i),n=o.replace(/\n/g,"\n- ");n="- "+n,e.value=a.substring(0,t)+n+a.substring(i,a.length),e.selectionStart=t,e.selectionEnd=i+n.length-o.length}}else alert("Error: Browser version is too low");t.d_value=e.value,e.focus()},n=(t,e)=>{let s;s=t.$refs.navigationContent,s.innerHTML=t.d_render;let i=s.children;if(i.length)for(let t=0;t<i.length;t++)a(i[t],t,i);function a(e,s,i){/^H[1-6]{1}$/.exec(e.tagName)?e.onclick=function(){let e=t.$refs.vShowContent,i=t.$refs.vNoteEdit;t.s_subfield?t.s_preview_switch&&(i.scrollTop=e.children[s].offsetTop*(i.scrollHeight-i.offsetHeight)/(e.scrollHeight-e.offsetHeight)):t.s_preview_switch&&(e.scrollTop=e.children[s].offsetTop)}:e.style.display="none"}},r=(t,e)=>{let s=t.srcElement?t.srcElement:t.target,i=s.scrollTop/(s.scrollHeight-s.offsetHeight);e.edit_scroll_height>=0&&s.scrollHeight!==e.edit_scroll_height&&s.scrollHeight-s.offsetHeight-s.scrollTop<=30&&(e.$refs.vNoteEdit.scrollTop=s.scrollHeight-s.offsetHeight,i=1),e.edit_scroll_height=s.scrollHeight,e.$refs.vShowContent.scrollHeight>e.$refs.vShowContent.offsetHeight&&(e.$refs.vShowContent.scrollTop=(e.$refs.vShowContent.scrollHeight-e.$refs.vShowContent.offsetHeight)*i)};function l(t,e){"function"!=typeof e&&(e=function(){});var s=document.querySelectorAll("script[src='"+t+"']");if(s.length>0)return s[0].addEventListener("load",(function(){e()})),void e();var i=document.createElement("script"),a=document.getElementsByTagName("head")[0];i.type="text/javascript",i.charset="UTF-8",i.src=t,i.addEventListener?i.addEventListener("load",(function(){e()}),!1):i.attachEvent&&i.attachEvent("onreadystatechange",(function(){"loaded"===window.event.srcElement.readyState&&e()})),a.appendChild(i)}},aZLT:function(t,e,s){"use strict";s.r(e);var i=s("8+Sn"),a=s("Kvkj"),o=s("vuaj"),n=s.n(o),r=s("XFvl"),l={name:"ResetPassword",metaInfo:()=>({title:"找回密码",htmlAttrs:{lang:"zh"}}),data:()=>({isSendCode:!1,isSendCodeSuccess:!1,formData:{email:"",code:"",type:"email",new_password:"",repeat_new_password:""}}),mounted(){this.$store.registerModule("sign",r.a)},methods:{tapRegister(){this.$router.push({name:"signUp"})},tapSign(){this.$router.push({name:"signIn"})},sendCode(){this.isSendCodeSuccess=!0,this.$store.dispatch("sign/RESET_PASSWORD_CODE",{email:this.formData.email,type:"email"}).then(t=>{this.isSendCodeSuccess=!1,"success"===t.state?this.isSendCode=!0:this.$message.warning(t.message)})},resetSubmit(){this.$store.dispatch("sign/RESET_PASSWORD",this.formData).then(t=>{this.$nextTick((function(){"success"===t.state?(this.$message.success("重置密码成功"),i.a.delete("accessToken")):this.$message.warning(t.message)}))})}},components:{"send-code":a.i,ClientOnly:n.a},destroyed(){this.$store.unregisterModule("sign")}},c=(s("V960"),s("6Qow")),d=Object(c.a)(l,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ClientOnly",[s("section",{staticClass:"sign-lay layout-content",attrs:{id:"reset-password"}},[s("div",{staticClass:"sign-view client-card"},[s("div",{staticClass:"title"},[t._v("\n        重置密码\n      ")]),t._v(" "),s("div",{staticClass:"js-sign-in-container"},[s("form",[s("div",{staticClass:"input-prepend email-view"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.email,expression:"formData.email"}],staticClass:"send-email-input account",attrs:{placeholder:"邮箱",type:"text"},domProps:{value:t.formData.email},on:{input:function(e){e.target.composing||t.$set(t.formData,"email",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-message"}),t._v(" "),s("send-code",{staticClass:"btn-send-email-code btn",attrs:{isSend:t.isSendCodeSuccess,"storage-key":"reset-sendEmailCode"},nativeOn:{click:function(e){return t.sendCode(e)}},model:{value:t.isSendCode,callback:function(e){t.isSendCode=e},expression:"isSendCode"}})],1),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.code,expression:"formData.code"}],staticClass:"send-email-code code",attrs:{placeholder:"请输入验证码",type:"text"},domProps:{value:t.formData.code},on:{input:function(e){e.target.composing||t.$set(t.formData,"code",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-chat-round"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.new_password,expression:"formData.new_password"}],staticClass:"password",attrs:{placeholder:"新密码",type:"password"},domProps:{value:t.formData.new_password},on:{input:function(e){e.target.composing||t.$set(t.formData,"new_password",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-key"})]),t._v(" "),s("div",{staticClass:"input-prepend"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.formData.repeat_new_password,expression:"formData.repeat_new_password"}],staticClass:"double_password",attrs:{placeholder:"重复新密码",type:"password"},domProps:{value:t.formData.repeat_new_password},on:{input:function(e){e.target.composing||t.$set(t.formData,"repeat_new_password",e.target.value)}}}),t._v(" "),s("i",{staticClass:"el-icon-key"})]),t._v(" "),s("button",{staticClass:"sign-in-button",attrs:{type:"button"},on:{click:t.resetSubmit}},[t._v("\n            重置密码\n          ")])]),t._v(" "),s("div",{staticClass:"sign-footer"},[s("a",{staticClass:"return-btn",attrs:{href:"javascript:;"},on:{click:t.tapSign}},[t._v("返回登录")])])])])])])}),[],!1,null,"d51450c4",null);e.default=d.exports},bByx:function(t,e,s){},"c+4f":function(t,e,s){},is6g:function(t,e,s){"use strict";var i={data(){return{temp_value:(()=>this.value)(),s_autofocus:(()=>{if(this.autofocus)return"autofocus"})()}},created(){},props:{fullHeight:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},value:{type:String,default:""},placeholder:{type:String,default:""},border:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},onchange:{type:Function,default:null},fontSize:{type:String,default:"14px"},lineHeight:{type:String,default:"18px"}},methods:{change(t){this.onchange&&this.onchange(this.temp_value,t)}},watch:{value:function(t,e){this.temp_value=t},temp_value:function(t,e){this.$emit("input",t)}}},a=(s("6Pmt"),s("6Qow")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"auto-textarea-wrapper",style:{fontSize:t.fontSize,lineHeight:t.lineHeight,height:t.fullHeight?"100%":"auto"}},[s("pre",{staticClass:"auto-textarea-block",style:{fontSize:t.fontSize,lineHeight:t.lineHeight,minHeight:t.fullHeight?"100%":"auto"}},[s("br"),t._v(t._s(t.temp_value)+" ")]),t._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.temp_value,expression:"temp_value"}],ref:"vTextarea",staticClass:"auto-textarea-input",class:{"no-border":!t.border,"no-resize":!t.resize},style:{fontSize:t.fontSize,lineHeight:t.lineHeight},attrs:{autofocus:t.s_autofocus,spellcheck:"false",placeholder:t.placeholder},domProps:{value:t.temp_value},on:{keyup:t.change,input:function(e){e.target.composing||(t.temp_value=e.target.value)}}})])}),[],!1,null,null,null);e.a=o.exports},m0go:function(t,e,s){"use strict";var i=s("7Qib");const a={mounted(){this.initGoogleCode()},methods:{initGoogleCode(){this.website&&this.website.config&&i.a.injectionGoogleCode(this.website.config.googleCode)}}};e.a=a},m9gY:function(t,e,s){},mACW:function(t,e,s){"use strict";var i=s("Qfy6");s.n(i).a},nai1:function(t,e,s){"use strict";s.r(e);var i=s("BLL0").a,a=(s("3Pwy"),s("6Qow")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-note-wrapper markdown-body",class:[{fullscreen:t.s_fullScreen,shadow:t.boxShadow}],style:{"box-shadow":t.boxShadow?t.boxShadowStyle:""}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.toolbarsFlag,expression:"toolbarsFlag"}],staticClass:"v-note-op",style:{background:t.toolbarsBackground}},[s("mdToolbarleft",{ref:"toolbar_left",class:{transition:t.transition},attrs:{editable:t.editable,transition:t.transition,d_words:t.d_words,toolbars:t.toolbars,image_filter:t.imageFilter},on:{toolbar_left_click:t.toolbar_left_click,toolbar_left_addlink:t.toolbar_left_addlink,imgAdd:t.$imgAdd,imgDel:t.$imgDel,imgTouch:t.$imgTouch}},[t._t("left-toolbar-before",null,{slot:"left-toolbar-before"}),t._v(" "),t._t("left-toolbar-after",null,{slot:"left-toolbar-after"})],2),t._v(" "),s("mdToolbarRight",{ref:"toolbar_right",class:{transition:t.transition},attrs:{d_words:t.d_words,toolbars:t.toolbars,s_subfield:t.s_subfield,s_preview_switch:t.s_preview_switch,s_fullScreen:t.s_fullScreen,s_html_code:t.s_html_code,s_navigation:t.s_navigation},on:{toolbar_right_click:t.toolbar_right_click}},[t._t("right-toolbar-before",null,{slot:"right-toolbar-before"}),t._v(" "),t._t("right-toolbar-after",null,{slot:"right-toolbar-after"})],2)],1),t._v(" "),s("div",{staticClass:"v-note-panel"},[s("div",{ref:"vNoteEdit",staticClass:"v-note-edit divarea-wrapper",class:{"scroll-style":t.s_scrollStyle,"scroll-style-border-radius":t.s_scrollStyle&&!t.s_preview_switch&&!t.s_html_code,"single-edit":!t.s_preview_switch&&!t.s_html_code,"single-show":!t.s_subfield&&t.s_preview_switch||!t.s_subfield&&t.s_html_code,transition:t.transition},on:{scroll:t.$v_edit_scroll,click:t.textAreaFocus}},[s("div",{staticClass:"content-input-wrapper",style:{"background-color":t.editorBackground}},[s("autoTextara",{ref:"vNoteTextarea",staticClass:"content-input",style:{"background-color":t.editorBackground},attrs:{placeholder:t.placeholder?t.placeholder:t.d_words.start_editor,fontSize:t.fontSize,lineHeight:"1.5",fullHeight:""},model:{value:t.d_value,callback:function(e){t.d_value=e},expression:"d_value"}})],1)]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.s_preview_switch||t.s_html_code,expression:"s_preview_switch || s_html_code"}],staticClass:"v-note-show",class:{"single-show":!t.s_subfield&&t.s_preview_switch||!t.s_subfield&&t.s_html_code}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.s_html_code,expression:"!s_html_code"}],ref:"vShowContent",staticClass:"v-show-content article-content",class:{"scroll-style":t.s_scrollStyle,"scroll-style-border-radius":t.s_scrollStyle},style:{"background-color":t.previewBackground},domProps:{innerHTML:t._s(t.d_render)}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.s_html_code,expression:"s_html_code"}],staticClass:"v-show-content-html",class:{"scroll-style":t.s_scrollStyle,"scroll-style-border-radius":t.s_scrollStyle},style:{"background-color":t.previewBackground}},[t._v("\n        "+t._s(t.d_render)+"\n      ")])])]),t._v(" "),s("div",{ref:"vReadModel",staticClass:"v-note-read-model scroll-style",class:{show:t.s_readmodel}},[s("div",{ref:"vNoteReadContent",staticClass:"v-note-read-content",domProps:{innerHTML:t._s(t.d_render)}})])])}),[],!1,null,"07a015ee",null);e.default=o.exports},noOV:function(t,e,s){"use strict";s.r(e);var i=s("8+Sn"),a={name:"Main",mounted(){this.githubAuth()},data:()=>({isloading:!1,authInfo:{data:{type:""}}}),methods:{githubAuth(){this.isloading=!0,this.$store.dispatch("common/GITHUB_OAUTN",this.$route.query).then(t=>{this.isloading=!1,this.authInfo=t,"success"===t.state&&("login"===t.data.type?(i.a.set("accessToken",t.data.token,7),window.location.href="/"):"create"===t.data.type?i.a.set("accessToken",t.data.token,7):"bind"===t.data.type&&setTimeout(()=>{this.$router.push({name:"ThirdParty"})},3e3))})}}},o=(s("XKrt"),s("6Qow")),n=Object(o.a)(a,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"github"},[s("div",{staticClass:"github-view"},[s("div",{staticClass:"title"},[t._v("\n      "+t._s(t.$route.query.state?"github授权绑定":"github授权登录")+"\n    ")]),t._v(" "),t.isloading?s("div",{staticClass:"loading"},[s("p",[t._v("请稍等，正在操作中...")]),t._v(" "),s("p",[t._v("请勿关闭浏览器")]),t._v(" "),t._m(2)]):s("div",{staticClass:"github-main"},["success"===t.authInfo.state?s("div",{staticClass:"info"},["create"===t.authInfo.data.type?s("div",{staticClass:"create"},[s("p",[t._v("登录邮箱："+t._s(t.authInfo.data.user.email))]),t._v(" "),s("p",[t._v("登录密码："+t._s(t.authInfo.data.password))]),t._v(" "),s("p",[t._v("此账户是github授权登录时，生成的账户")]),t._v(" "),s("p",[t._v("请记住账号密码，可使用当前账号密码登录，也可直接使用github登录")]),t._v(" "),s("p",[t._v("请尽快在个人中心修改密码")]),t._v(" "),s("p",[t._v("当前页仅在首次登录时出现")]),t._v(" "),t._m(0)]):"bind"===t.authInfo.data.type?s("div",{staticClass:"bind"},[s("p",[t._v("\n            github授权绑定成功，返回个人中心\n          ")]),t._v(" "),s("p",[t._v("以后可使用当前绑定的github账户直接登录")]),t._v(" "),s("p",[t._v("3秒后返回个人中心")]),t._v(" "),t._m(1)]):"login"===t.authInfo.data.type?s("div",{staticClass:"login"},[s("p",[t._v("\n            登录成功，返回首页\n          ")])]):t._e()]):s("div",{staticClass:"error"},[s("div",{staticClass:"title"},[t._v("授权失败")]),t._v("\n        "+t._s(t.authInfo.message)+"\n        "),s("a",{attrs:{href:"/"}},[t._v("返回首页")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"/"}},[this._v("直接登录，返回首页")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("a",{attrs:{href:"/"}},[this._v("返回个人中心")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("如果长时间无反应"),e("a",{attrs:{href:"/"}},[this._v("请返回首页")])])}],!1,null,"2812d002",null);e.default=n.exports},nqCT:function(t,e,s){"use strict";s.r(e);var i={name:"s-md-toolbar-left",props:{editable:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},toolbars:{type:Object,required:!0},d_words:{type:Object,required:!0},image_filter:{type:Function,default:null}},data:()=>({img_file:[[0,null]],img_timer:null,header_timer:null,s_img_dropdown_open:!1,s_header_dropdown_open:!1,s_img_link_open:!1,trigger:null,num:0,link_text:"",link_addr:"",link_type:"link"}),methods:{$imgLinkAdd(){this.$emit("toolbar_left_addlink",this.link_type,this.link_text,this.link_addr),this.s_img_link_open=!1},$toggle_imgLinkAdd(t){this.link_type=t,this.link_text=this.link_addr="",this.s_img_link_open=!0,this.$nextTick(()=>{this.$refs.linkTextInput.focus()}),this.s_img_dropdown_open=!1},$imgFileListClick(t){this.$emit("imgTouch",this.img_file[t])},$changeUrl(t,e){this.img_file[t][0]=e},$imgFileAdd(t){this.img_file.push([++this.num,t]),this.$emit("imgAdd",this.num,t),this.s_img_dropdown_open=!1},$imgFilesAdd(t){let e="function"==typeof this.image_filter;for(let s=0;s<t.length;s++)(e&&!0===this.image_filter(t[s])||!e&&t[s].type.match(/^image\//i))&&this.$imgFileAdd(t[s])},$imgAdd(t){this.$imgFilesAdd(t.target.files),t.target.value=""},$imgDel(t){this.$emit("imgDel",this.img_file[t]),this.img_file.splice(t,1),this.num--,this.s_img_dropdown_open=!1},isEqualName(t,e){return!(!this.img_file[e][1]||this.img_file[e][1].name!=t&&this.img_file[e][1]._name!=t)},$imgDelByFilename(t){for(var e=0;this.img_file.length>e;){if(this.img_file[e][1]==t||this.isEqualName(t,e))return this.$imgDel(e),!0;e+=1}return!1},$imgAddByFilename(t,e){for(var s=0;s<this.img_file.length;s++)if(this.img_file[s][0]==t)return!1;return this.img_file[0][0]=t,this.img_file[0][1]=e,this.img_file[0][2]=t,this.img_file.unshift(["./"+this.num,null]),this.$emit("imgAdd",this.img_file[1][0],e,!1),!0},$imgAddByUrl(t,e){for(var s=0;s<this.img_file.length;s++)if(this.img_file[s][0]==t)return!1;return this.img_file[0][0]=t,this.img_file[0][1]=e,this.img_file.unshift(["./"+this.num,null]),!0},$imgUpdateByFilename(t,e){for(var s=0;s<this.img_file.length;s++)if(this.img_file[s][0]==t||this.isEqualName(t,s))return this.img_file[s][1]=e,this.$emit("imgAdd",t,e,!1),!0;return!1},$mouseenter_img_dropdown(){this.editable&&(clearTimeout(this.img_timer),this.s_img_dropdown_open=!0)},$mouseleave_img_dropdown(){let t=this;this.img_timer=setTimeout((function(){t.s_img_dropdown_open=!1}),200)},$mouseenter_header_dropdown(){this.editable&&(clearTimeout(this.header_timer),this.s_header_dropdown_open=!0)},$mouseleave_header_dropdown(){let t=this;this.header_timer=setTimeout((function(){t.s_header_dropdown_open=!1}),200)},$clicks(t){this.editable&&this.$emit("toolbar_left_click",t)},$click_header(t){this.$emit("toolbar_left_click",t),this.s_header_dropdown_open=!1},handleClose(t){this.s_img_dropdown_open=!1}}},a=(s("OIMU"),s("6Qow")),o=Object(a.a)(i,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"v-left-item"},[t._t("left-toolbar-before"),t._v(" "),t.toolbars.bold?s("button",{staticClass:"op-icon fa fa-mavon-bold",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_bold+" (ctrl+b)"},on:{click:function(e){return t.$clicks("bold")}}}):t._e(),t._v(" "),t.toolbars.italic?s("button",{staticClass:"op-icon fa fa-mavon-italic",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_italic+" (ctrl+i)"},on:{click:function(e){return t.$clicks("italic")}}}):t._e(),t._v(" "),t.toolbars.header?s("div",{staticClass:"op-icon fa fa-mavon-header dropdown dropdown-wrapper",class:{selected:t.s_header_dropdown_open},attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_header+" (ctrl+h)"},on:{mouseleave:t.$mouseleave_header_dropdown,mouseenter:t.$mouseenter_header_dropdown}},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.s_header_dropdown_open,expression:"s_header_dropdown_open"}],staticClass:"op-header popup-dropdown",class:{transition:t.transition},on:{mouseenter:t.$mouseenter_header_dropdown,mouseleave:t.$mouseleave_header_dropdown}},[s("div",{staticClass:"dropdown-item",attrs:{title:"#"},on:{click:function(e){return e.stopPropagation(),t.$click_header("header1")}}},[s("span",[t._v(t._s(t.d_words.tl_header_one))])]),t._v(" "),s("div",{staticClass:"dropdown-item",attrs:{title:"## "},on:{click:function(e){return e.stopPropagation(),t.$click_header("header2")}}},[s("span",[t._v(t._s(t.d_words.tl_header_two))])]),t._v(" "),s("div",{staticClass:"dropdown-item",attrs:{title:"### "},on:{click:function(e){return e.stopPropagation(),t.$click_header("header3")}}},[s("span",[t._v(t._s(t.d_words.tl_header_three))])]),t._v(" "),s("div",{staticClass:"dropdown-item",attrs:{title:"#### "},on:{click:function(e){return e.stopPropagation(),t.$click_header("header4")}}},[s("span",[t._v(t._s(t.d_words.tl_header_four))])]),t._v(" "),s("div",{staticClass:"dropdown-item",attrs:{title:"##### "},on:{click:function(e){return e.stopPropagation(),t.$click_header("header5")}}},[s("span",[t._v(t._s(t.d_words.tl_header_five))])]),t._v(" "),s("div",{staticClass:"dropdown-item",attrs:{title:"###### "},on:{click:function(e){return e.stopPropagation(),t.$click_header("header6")}}},[s("span",[t._v(t._s(t.d_words.tl_header_six))])])])])],1):t._e(),t._v(" "),t.toolbars.header||t.toolbars.italic||t.toolbars.bold?s("span",{staticClass:"op-icon-divider"}):t._e(),t._v(" "),t.toolbars.underline?s("button",{staticClass:"op-icon fa fa-mavon-underline",attrs:{disabled:!t.editable,type:"button",title:t.d_words.tl_underline+" (ctrl+u)","aria-hidden":"true"},on:{click:function(e){return t.$clicks("underline")}}}):t._e(),t._v(" "),t.toolbars.strikethrough?s("button",{staticClass:"op-icon fa fa-mavon-strikethrough",attrs:{disabled:!t.editable,type:"button",title:t.d_words.tl_strikethrough+" (ctrl+shift+d)","aria-hidden":"true"},on:{click:function(e){return t.$clicks("strikethrough")}}}):t._e(),t._v(" "),t.toolbars.mark?s("button",{staticClass:"op-icon fa fa-mavon-thumb-tack",attrs:{disabled:!t.editable,type:"button",title:t.d_words.tl_mark+" (ctrl+m)","aria-hidden":"true"},on:{click:function(e){return t.$clicks("mark")}}}):t._e(),t._v(" "),t.toolbars.superscript?s("button",{staticClass:"op-icon fa fa-mavon-superscript",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_superscript+" (ctrl+alt+s)"},on:{click:function(e){return t.$clicks("superscript")}}}):t._e(),t._v(" "),t.toolbars.subscript?s("button",{staticClass:"op-icon fa fa-mavon-subscript",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_subscript+" (ctrl+shift+s)"},on:{click:function(e){return t.$clicks("subscript")}}}):t._e(),t._v(" "),t.toolbars.alignleft?s("button",{staticClass:"op-icon fa fa-mavon-align-left",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_alignleft+" (ctrl+l)"},on:{click:function(e){return t.$clicks("alignleft")}}}):t._e(),t._v(" "),t.toolbars.aligncenter?s("button",{staticClass:"op-icon fa fa-mavon-align-center",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_aligncenter+" (ctrl+e)"},on:{click:function(e){return t.$clicks("aligncenter")}}}):t._e(),t._v(" "),t.toolbars.alignright?s("button",{staticClass:"op-icon fa fa-mavon-align-right",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_alignright+" (ctrl+r)"},on:{click:function(e){return t.$clicks("alignright")}}}):t._e(),t._v(" "),t.toolbars.superscript||t.toolbars.subscript||t.toolbars.underline||t.toolbars.strikethrough||t.toolbars.mark?s("span",{staticClass:"op-icon-divider"}):t._e(),t._v(" "),t.toolbars.quote?s("button",{staticClass:"op-icon fa fa-mavon-quote-left",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_quote+" (ctrl+q)"},on:{click:function(e){return t.$clicks("quote")}}}):t._e(),t._v(" "),t.toolbars.ol?s("button",{staticClass:"op-icon fa fa-mavon-list-ol",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_ol+" (ctrl+o)"},on:{click:function(e){return t.$clicks("ol")}}}):t._e(),t._v(" "),t.toolbars.ul?s("button",{staticClass:"op-icon fa fa-mavon-list-ul",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_ul+" (ctrl+alt+u)"},on:{click:function(e){return t.$clicks("ul")}}}):t._e(),t._v(" "),t.toolbars.ul||t.toolbars.ol||t.toolbars.quote?s("span",{staticClass:"op-icon-divider"}):t._e(),t._v(" "),t.toolbars.link?s("button",{staticClass:"op-icon fa fa-mavon-link",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_link+" (ctrl+l)"},on:{click:function(e){return e.stopPropagation(),t.$toggle_imgLinkAdd("link")}}}):t._e(),t._v(" "),t.toolbars.imagelink?s("div",{staticClass:"op-icon fa fa-mavon-picture-o dropdown dropdown-wrapper",class:{selected:t.s_img_dropdown_open},attrs:{disabled:!t.editable,type:"button","aria-hidden":"true"},on:{mouseleave:t.$mouseleave_img_dropdown,mouseenter:t.$mouseenter_img_dropdown}},[s("transition",{attrs:{name:"fade"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.s_img_dropdown_open,expression:"s_img_dropdown_open"}],staticClass:"op-image popup-dropdown",class:{transition:t.transition},on:{mouseleave:t.$mouseleave_img_dropdown,mouseenter:t.$mouseenter_img_dropdown}},[s("div",{staticClass:"dropdown-item",on:{click:function(e){return e.stopPropagation(),t.$toggle_imgLinkAdd("imagelink")}}},[s("span",[t._v(t._s(t.d_words.tl_image))])]),t._v(" "),s("div",{staticClass:"dropdown-item",staticStyle:{overflow:"hidden"}},[s("input",{attrs:{type:"file",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",multiple:"multiple"},on:{change:function(e){return t.$imgAdd(e)}}}),t._v(t._s(t.d_words.tl_upload)+"\n        ")]),t._v(" "),t._l(t.img_file,(function(e,i){return e&&e[1]?s("div",{key:i,staticClass:"dropdown-item dropdown-images",attrs:{title:e[1].name},on:{click:function(e){return e.stopPropagation(),t.$imgFileListClick(i)}}},[s("span",[t._v(t._s(e[1].name))]),t._v(" "),s("button",{staticClass:"op-icon fa fa-mavon-times",attrs:{slot:"right",type:"button","aria-hidden":"true",title:t.d_words.tl_upload_remove},on:{click:function(e){return e.stopPropagation(),t.$imgDel(i)}},slot:"right"}),t._v(" "),s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e[1].miniurl,expression:"item[1].miniurl"}],staticClass:"image-show",class:{transition:t.transition},attrs:{alt:"none"}})]):t._e()}))],2)])],1):t._e(),t._v(" "),t.toolbars.code?s("button",{staticClass:"op-icon fa fa-mavon-code",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_code+" (ctrl+alt+c)"},on:{click:function(e){return t.$clicks("code")}}}):t._e(),t._v(" "),t.toolbars.table?s("button",{staticClass:"op-icon fa fa-mavon-table",attrs:{disabled:!t.editable,type:"button","aria-hidden":"true",title:t.d_words.tl_table+" (ctrl+alt+t)"},on:{click:function(e){return t.$clicks("table")}}}):t._e(),t._v(" "),t.toolbars.link||t.toolbars.imagelink||t.toolbars.code||t.toolbars.table?s("span",{staticClass:"op-icon-divider"}):t._e(),t._v(" "),t.toolbars.undo?s("button",{staticClass:"op-icon fa fa-mavon-undo",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_undo+" (ctrl+z)"},on:{click:function(e){return t.$clicks("undo")}}}):t._e(),t._v(" "),t.toolbars.redo?s("button",{staticClass:"op-icon fa fa-mavon-repeat",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_redo+" (ctrl+y)"},on:{click:function(e){return t.$clicks("redo")}}}):t._e(),t._v(" "),t.toolbars.trash?s("button",{staticClass:"op-icon fa fa-mavon-trash-o",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_trash+" (ctrl+breakspace)"},on:{click:function(e){return t.$clicks("trash")}}}):t._e(),t._v(" "),t.toolbars.save?s("button",{staticClass:"op-icon fa fa-mavon-floppy-o",attrs:{type:"button","aria-hidden":"true",title:t.d_words.tl_save+" (ctrl+s)"},on:{click:function(e){return t.$clicks("save")}}}):t._e(),t._v(" "),t._t("left-toolbar-after"),t._v(" "),s("transition",{attrs:{name:"fade"}},[t.s_img_link_open?s("div",{staticClass:"add-image-link-wrapper"},[s("div",{staticClass:"add-image-link"},[s("i",{staticClass:"fa fa-mavon-times",attrs:{"aria-hidden":"true"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.s_img_link_open=!1}}}),t._v(" "),s("h3",{staticClass:"title"},[t._v(t._s("link"==t.link_type?t.d_words.tl_popup_link_title:t.d_words.tl_popup_img_link_title))]),t._v(" "),s("div",{staticClass:"link-text input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.link_text,expression:"link_text"}],ref:"linkTextInput",attrs:{type:"text",placeholder:"link"==t.link_type?t.d_words.tl_popup_link_text:t.d_words.tl_popup_img_link_text},domProps:{value:t.link_text},on:{input:function(e){e.target.composing||(t.link_text=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"link-addr input-wrapper"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.link_addr,expression:"link_addr"}],attrs:{type:"text",placeholder:"link"==t.link_type?t.d_words.tl_popup_link_addr:t.d_words.tl_popup_img_link_addr},domProps:{value:t.link_addr},on:{input:function(e){e.target.composing||(t.link_addr=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"op-btn cancel",on:{click:function(e){e.stopPropagation(),t.s_img_link_open=!1}}},[t._v(t._s(t.d_words.tl_popup_link_cancel))]),t._v(" "),s("div",{staticClass:"op-btn sure",on:{click:function(e){return e.stopPropagation(),t.$imgLinkAdd()}}},[t._v(t._s(t.d_words.tl_popup_link_sure))])])]):t._e()])],2)}),[],!1,null,"3109af2e",null);e.default=o.exports},qu4x:function(t,e,s){"use strict";const i=s("nai1").default,a={mavonEditor:i,LeftToolbar:s("nqCT").default,RightToolbar:s("Alhn").default,install:function(t){t.component("mark-editor",i)}};t.exports=a},rER3:function(t,e,s){"use strict";s.r(e);var i=s("iHbI"),a=s("Kvkj"),o={name:"CommentForm",data:()=>({commentContent:"",faceVisible:!1}),props:{type:{type:String,default:"parent"},reply_uid:{default:""},reply_id:{default:""},parent_id:{default:""}},methods:{getParams(){return{books_id:this.$route.params.books_id,book_id:this.$route.params.book_id,content:this.commentContent,reply_uid:this.reply_uid,reply_id:this.reply_id,parent_id:this.parent_id}},changeFace(t){this.faceVisible=!1,this.commentContent=this.commentContent+t.face_text},submitComment(){if(!this.commentContent)return this.$message.warning("请填写评论内容"),!1;var t=this.getParams();this.$store.dispatch("book/BOOK_COMMENT_CREATE",t).then(t=>{this.commentContent="",this.$emit("commentChange",t)}).catch(t=>{this.commentContent=""})}},computed:{article(){return this.$store.state.article.article||{}},personalInfo(){return this.$store.state.personalInfo||{}}},components:{Face:a.c,Popover:a.f}},n=(s("rUEC"),s("6Qow")),r=Object(n.a)(o,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-form",attrs:{id:"comment_form"}},[s("div",{staticClass:"comment-avatar"},[t.personalInfo.islogin?s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.personalInfo.user.avatar,expression:"personalInfo.user.avatar"}],staticClass:"box-image",attrs:{alt:""}}):s("img",{staticClass:"box-image",attrs:{src:"/default/img/avatar.jpeg",alt:""}})]),t._v(" "),s("div",{staticClass:"form-item",staticStyle:{"margin-left":"50px"}},[s("div",{staticClass:"input-view"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],staticClass:"txt long-txt textarea ",attrs:{name:"comment"},domProps:{value:t.commentContent},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}})]),t._v(" "),s("div",{staticClass:"form-item form-btns clearfix"},[s("div",{staticClass:"left-view"},[s("Popover",{attrs:{visible:t.faceVisible},on:{"update:visible":function(e){t.faceVisible=e}}},[t.faceVisible?s("Face",{on:{changeFace:t.changeFace}}):t._e(),t._v(" "),s("i",{staticClass:"face-icon el-icon-picture-outline-round",attrs:{slot:"button"},slot:"button"})],1)],1),t._v(" "),s("div",{staticClass:"right-view"},[s("button",{staticClass:"form-btn",attrs:{type:"submit"},on:{click:t.submitComment}},[t._v("提交评论")])])])])])}),[],!1,null,"69d9ccbc",null).exports,l=s("YP4+"),c={name:"childrenItem",props:["childCommentItem","p_id","comentKey"],data:function(){return{isComment:!1,reply_uid:"",statusList:l.b}},methods:{commentChange(t){this.isComment=!1,this.$emit("ChildCommentChange",t)},onReply(){this.isComment=!this.isComment,this.reply_uid=this.childCommentItem.uid},deleteComment(t){this.$store.dispatch("book/BOOK_COMMENT_DELETE",{book_id:this.$route.params.book_id,comment_id:t}).then(t=>{"success"===t.state?(this.$emit("deleteChildComment",this.comentKey),this.$message.success(t.message)):this.$message.warning(t.message)}).catch((function(t){console.log(t)}))},commentRender(t){let e=t;return a.h.map(t=>{e=e.replace(new RegExp("\\"+t.face_text,"g"),t.face_view)}),e}},computed:{article(){return this.$store.state.article.article||{}},personalInfo(){return this.$store.state.personalInfo||{}}},components:{"comment-form":r}},d=(s("3nZa"),{name:"index",props:["commentItem","comentKey"],data:function(){return{isComment:!1,statusList:l.b}},methods:{commentChange(t){"success"===t.state?(this.$message.success(t.message),this.$nextTick((function(){this.commentItem.children.push(t.data)}))):this.$message.warning(t.message),this.isComment=!1},deleteChildComment(t){this.commentItem.children.splice(t,1)},deleteComment(t){this.$store.dispatch("book/BOOK_COMMENT_DELETE",{book_id:this.$route.params.book_id,comment_id:t}).then(t=>{"success"===t.state?(this.$emit("deleteComment",this.comentKey),this.$message.success(t.message)):this.$message.warning(t.message)}).catch((function(t){console.log(t)}))},commentRender(t){let e=t;return a.h.map(t=>{e=e.replace(new RegExp("\\"+t.face_text,"g"),t.face_view)}),e}},computed:{article(){return this.$store.state.article.article||{}},personalInfo(){return this.$store.state.personalInfo||{}}},components:{"comment-form":r,"comment-child-item":Object(n.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comment-item",attrs:{id:"comment"+t.childCommentItem.id}},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.childCommentItem.user.avatar,expression:"childCommentItem.user.avatar"}],staticClass:"box-image",attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"comment-body"},[s("div",{staticClass:"comment-main"},[s("h4",[s("router-link",{staticClass:"user-info",attrs:{to:{name:"user",params:{uid:t.childCommentItem.user.uid,routeType:"article"}}}},[t._v(t._s(t.childCommentItem.user.nickname))]),t._v(" "),t.childCommentItem.reply_user?[s("i",{staticClass:"middle-text"},[t._v("回复")]),t._v(" "),s("router-link",{staticClass:"user-info",attrs:{to:{name:"user",params:{uid:t.childCommentItem.reply_user.uid,routeType:"article"}}}},[t._v(t._s(t.childCommentItem.reply_user.nickname))])]:t._e()],2),t._v(" "),Number(t.childCommentItem.status)===t.statusList.reviewSuccess||Number(t.childCommentItem.status)===t.statusList.freeReview?s("div",{staticClass:"comment-text",domProps:{innerHTML:t._s(t.commentRender(t.childCommentItem.content))}}):Number(t.childCommentItem.status)===t.statusList.pendingReview?s("div",{staticClass:"comment-text",staticStyle:{color:"#f96b84"}},[t._v("当前用户评论需要管理员审核才能可见")]):Number(t.childCommentItem.status)===t.statusList.reviewFail?s("div",{staticClass:"comment-text",staticStyle:{color:"#f96b84"}},[t._v("当前用户评论违规")]):t._e()]),t._v(" "),s("div",{staticClass:"comment-foot clearfix"},[s("span",[t._v(t._s(t.childCommentItem.create_dt))]),t._v(" "),Number(t.childCommentItem.status)===t.statusList.reviewSuccess||Number(t.childCommentItem.status)===t.statusList.freeReview?s("span",{directives:[{name:"show",rawName:"v-show",value:t.personalInfo.islogin,expression:"personalInfo.islogin"}],staticClass:"comment-reply",on:{click:t.onReply}},[t._v(t._s(t.isComment?"取消回复":"回复"))]):t._e(),t._v(" "),t.personalInfo.user.uid===t.childCommentItem.uid?s("span",{staticClass:"comment-delete",on:{click:function(e){return t.deleteComment(t.childCommentItem.id)}}},[t._v("删除")]):t._e()])]),t._v(" "),t.isComment?s("div",{staticClass:"comment-form-view",attrs:{id:"comment-reply"+t.childCommentItem.id}},[s("comment-form",{attrs:{reply_uid:t.reply_uid,parent_id:t.p_id,reply_id:t.childCommentItem.id},on:{commentChange:t.commentChange}})],1):t._e()])}),[],!1,null,"f2363730",null).exports}}),_=(s("KPoT"),Object(n.a)(d,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"comment_list",staticClass:"comment-item",attrs:{id:"comment"+t.commentItem.id}},[s("div",{staticClass:"avatar"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.commentItem.user.avatar,expression:"commentItem.user.avatar"}],staticClass:"box-image",attrs:{alt:""}})]),t._v(" "),s("div",{staticClass:"comment-body"},[s("div",{staticClass:"comment-main"},[s("h4",[s("router-link",{staticClass:"user-info",attrs:{to:{name:"user",params:{uid:t.commentItem.user.uid,routeType:"article"}}}},[t._v(t._s(t.commentItem.user.nickname))])],1),t._v(" "),Number(t.commentItem.status)===t.statusList.reviewSuccess||Number(t.commentItem.status)===t.statusList.freeReview?s("div",{staticClass:"comment-text",domProps:{innerHTML:t._s(t.commentRender(t.commentItem.content))}}):Number(t.commentItem.status)===t.statusList.pendingReview?s("div",{staticClass:"comment-text",staticStyle:{color:"#f96b84"}},[t._v("当前用户评论需要管理员审核才能可见")]):Number(t.commentItem.status)===t.statusList.reviewFail?s("div",{staticClass:"comment-text",staticStyle:{color:"#f96b84"}},[t._v("当前用户评论违规")]):t._e()]),t._v(" "),s("div",{staticClass:"comment-foot clearfix"},[s("span",[t._v(t._s(t.commentItem.create_dt))]),t._v(" "),Number(t.commentItem.status)===t.statusList.reviewSuccess||Number(t.commentItem.status)===t.statusList.freeReview?s("span",{directives:[{name:"show",rawName:"v-show",value:t.personalInfo.islogin,expression:"personalInfo.islogin"}],staticClass:"comment-reply",on:{click:function(e){t.isComment=!t.isComment}}},[t._v(t._s(t.isComment?"取消回复":"回复"))]):t._e(),t._v(" "),t.personalInfo.user.uid===t.commentItem.uid?s("span",{staticClass:"comment-delete",on:{click:function(e){return t.deleteComment(t.commentItem.id)}}},[t._v("删除")]):t._e()]),t._v(" "),t.isComment?s("div",{staticClass:"comment-form-view",attrs:{id:"comment-reply"+t.commentItem.id}},[s("comment-form",{attrs:{reply_uid:t.commentItem.uid,parent_id:t.commentItem.id,reply_id:t.commentItem.id},on:{commentChange:t.commentChange}})],1):t._e()]),t._v(" "),t.commentItem.children.length>0||t.isComment?s("div",{staticClass:"comment-item-children"},[t.commentItem.children.length>0?s("div",{staticClass:"comment-item-children-view"},t._l(t.commentItem.children,(function(e,i){return s("comment-child-item",{key:i,attrs:{comentKey:i,p_id:t.commentItem.id,childCommentItem:e},on:{deleteChildComment:t.deleteChildComment,ChildCommentChange:t.commentChange}})})),1):t._e()]):t._e()])}),[],!1,null,"534404ce",null).exports),u={name:"index",data:()=>({isLoading:!0,comment:{comment_list:[],count:0,page:1,pageSize:10}}),created(){this.getCommentList()},watch:{$route(t,e){this.getCommentList()}},methods:{getCommentList(){this.isLoading=!0,this.$store.dispatch("book/BOOK_COMMENT_LIST",{book_id:this.$route.params.book_id,page:this.comment.page,pageSize:this.comment.pageSize}).then(t=>{this.comment=t.data,this.isLoading=!1}).catch(()=>{this.isLoading=!1})},pageChange(t){this.$store.dispatch("book/BOOK_COMMENT_LIST",{book_id:this.$route.params.book_id,page:t,pageSize:this.comment.pageSize}).then(t=>{this.comment=t.data})},deleteComment(t){this.articleComment.list.splice(t,1)},commentChange(t){"success"===t.state?(this.$message.success(t.message),this.comment.comment_list.unshift(t.data),this.comment.count+=1):this.$message.warning(t.message)}},computed:{...Object(i.b)(["website","personalInfo"])},components:{"comment-item":_,"comment-form":r,Page:a.e}},m=(s("mACW"),Object(n.a)(u,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],staticClass:"box-comment"},["yes"===t.website.config.on_comment?s("div",{staticClass:"box-comment-part"},[s("div",{staticClass:"box-comment-part-title"},[s("span",[t._v("发表评论")]),t._v(" "),s("small",[t._v("\n        已发布评论\n        "),s("em",[t._v(t._s(t.comment.count))]),t._v(" 条\n      ")]),t._v(" "),s("router-link",{staticClass:"comment-rule",attrs:{to:{name:"commentRule"}}},[t._v("《点我查看评论规范》")])],1),t._v(" "),s("comment-form",{on:{commentChange:t.commentChange}}),t._v(" "),s("div",{staticClass:"comment-list"},[s("div",{attrs:{id:"commentlist"}},t._l(t.comment.comment_list,(function(e,i){return s("comment-item",{key:i,attrs:{"comment-item":e,comentKey:i},on:{deleteComment:t.deleteComment}})})),1),t._v(" "),s("Page",{attrs:{total:Number(t.comment.count),pageSize:Number(t.comment.pageSize)},on:{pageChange:t.pageChange}})],1)],1):s("div",[s("p",{staticClass:"no-comment"},[t._v("评论模块已关闭")])])])}),[],!1,null,"3e48ddc7",null).exports),p=s("8+Sn"),h=s("vuaj"),v=s.n(h),f=s("7Qib"),g={name:"BookInfo",minixs:[s("m0go").a],metaInfo(){return{title:this.book.bookInfo.title||"",meta:[{name:"description",content:`${this.book.bookInfo.title||""}`}],htmlAttrs:{lang:"zh"},script:[...f.a.statisticsCode({route:this.$route,googleCode:this.website.config.googleCode,random:""})],__dangerouslyDisableSanitizers:["script"]}},asyncData:async({store:t,route:e,accessToken:s=""})=>Promise.all([t.dispatch("PERSONAL_INFO",{accessToken:s}),t.dispatch("website/GET_WEBSITE_INFO"),t.dispatch("books/GET_BOOKS_INFO",{books_id:e.params.books_id,type:"info",accessToken:s}),t.dispatch("book/GET_BOOK_INFO",{book_id:e.params.book_id,accessToken:s})]),data:()=>({trialRead:l.c,isFree:l.a,isShowAside:!0,bookInfoOther:{prev:{},next:{}}}),watch:{$route(t,e){this.getBookNextPrev()}},mounted(){this.getBooksBookAll(),this.getBookNextPrev()},methods:{commandChange(t){"esc"!==t.name?this.$router.push(t):this.escLogin()},escLogin(){this.$message.warning("已退出当前账户，请重新登录"),p.a.delete("accessToken"),window.location.reload()},lookChapter(t){this.$router.push({name:"BookView",params:{books_id:this.$route.params.books_id,book_id:t}})},writeChapter(t){this.$router.push({name:"WriteBookView",params:{books_id:this.$route.params.books_id,book_id:t}})},getBooksBookAll(){this.$store.dispatch("books/GET_BOOKS_BOOK_ALL",{books_id:this.$route.params.books_id})},getBookNextPrev(){this.$store.dispatch("book/BOOK_NEXT_PREV",{book_id:this.$route.params.book_id,books_id:this.$route.params.books_id}).then(t=>{this.bookInfoOther=t.data})}},computed:{...Object(i.b)(["books","book","personalInfo","website"])},components:{BookComment:m,ClientOnly:v.a,Dropdown:a.b}},b=(s("Cthe"),Object(n.a)(g,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("client-only",[s("div",{staticClass:"book-read-view"},[s("div",{staticClass:"book-section",class:{"fold-pc":!t.isShowAside}},[s("div",{staticClass:"book-summary"},[s("div",{staticClass:"book-summary-inner"},[s("div",{staticClass:"book-summary__header"},[t.website.meta.logo?s("router-link",{staticClass:"navbar-brand logo",style:{"background-image":"url("+t.website.meta.logo+")"},attrs:{to:{name:"home"}}}):s("router-link",{staticClass:"navbar-brand logo-text",attrs:{to:{name:"home"}}},[t._v(t._s(t.website.meta.website_name))]),t._v(" "),s("div",{staticClass:"label"},[t._v("小书")])],1),t._v(" "),t.personalInfo.islogin&&t.book.bookInfo.uid===t.personalInfo.user.uid?s("div",{staticClass:"book-summary-btn"},[s("div",{staticClass:"section-buy",on:{click:function(e){return t.writeChapter("create")}}},[t._v("创建新章节")])]):t._e(),t._v(" "),s("div",{staticClass:"book-directory",class:{bought:t.personalInfo.islogin}},t._l(t.books.booksBookAll,(function(e,i){return s("router-link",{key:i,staticClass:"section",attrs:{to:{name:"BookView",params:{books_id:t.$route.params.books_id,book_id:e.book_id}}}},[s("div",{staticClass:"step"},[s("div",{staticClass:"step-btn"},[t._v(t._s(i+1))])]),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"title"},[t._v(t._s(e.title)+" "),Number(t.books.booksInfo.is_free)===t.isFree.pay&&e.trial_read===t.trialRead.yes?s("span",{staticClass:"read"},[t._v("可试读")]):t._e()])])])})),1),t._v(" "),s("div",{staticClass:"book-summary__footer"})])]),t._v(" "),s("div",{staticClass:"book-content"},[s("div",{staticClass:"book-content-inner"},[s("div",{staticClass:"book-content__header"},[s("div",{staticClass:"menu",on:{click:function(e){t.isShowAside=!t.isShowAside}}},[s("i",{staticClass:"el-icon-s-operation"})]),t._v(" "),s("div",{staticClass:"title"},[s("router-link",{attrs:{to:{name:"book",params:{books_id:t.$route.params.books_id}}}},[t._v(t._s(t.books.booksInfo.title))])],1),t._v(" "),s("div",{staticClass:"user-auth"},[t.personalInfo.islogin?s("div",{staticClass:"nav-item dropdown"},[s("Dropdown",{attrs:{placement:"right"}},[s("div",{staticClass:"el-dropdown-link",attrs:{slot:"button"},slot:"button"},[s("div",{staticClass:"avatar-img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.personalInfo.user.avatar,expression:"personalInfo.user.avatar"}],staticClass:"box-image",attrs:{alt:""}})])]),t._v(" "),s("div",{staticClass:"dropdown-menu-view"},[s("router-link",{staticClass:"dropdown-menu-item",attrs:{to:{name:"user",params:{uid:t.personalInfo.user.uid,routeType:"article"}}}},[t._v("\n                      我的主页")]),t._v(" "),s("router-link",{staticClass:"dropdown-menu-item",attrs:{to:{name:"setting"}}},[t._v("\n                      设置")]),t._v(" "),s("div",{staticClass:"dropdown-menu-item",on:{click:t.escLogin}},[t._v("\n                      退出\n                    ")])],1)])],1):s("div",{staticClass:"nav-item auth"},["yes"===t.website.config.on_login?s("div",{staticClass:"nav-item-view"},[s("router-link",{staticClass:"btn btn-sm sign-btn btn-block",attrs:{to:{name:"signIn"}}},[t._v("登录")])],1):t._e(),t._v(" "),"yes"===t.website.config.on_register?s("div",{staticClass:"nav-item-view"},[s("router-link",{staticClass:"btn s-btn--primary btn-sm sign-btn btn-outline-warning",attrs:{to:{name:"signIn"}}},[t._v("注册")])],1):t._e()])])]),t._v(" "),s("div",{staticClass:"book-body transition--next"},[s("div",{staticClass:"section-content"},[s("div",{staticClass:"clearfix"},[t.personalInfo.islogin&&t.book.bookInfo.uid===t.personalInfo.user.uid?s("div",{staticClass:"btn edit-outline",on:{click:function(e){return t.writeChapter(t.book.bookInfo.book_id)}}},[t._v("\n                  编辑当前章节\n                ")]):t._e()]),t._v(" "),t.book.bookInfo.isLook?s("div",{staticClass:"entry-content article-content",domProps:{innerHTML:t._s(t.book.bookInfo.content)}}):s("div",{staticClass:"no-read"},[s("p",[t._v("当前章节需要购买此小书后，方可继续阅读")])]),t._v(" "),s("div",{staticClass:"book-comments"},[t.personalInfo.islogin?t._e():s("div",{staticClass:"comment-box"},[s("div",{staticClass:"comment-form comment-form unauthorized",attrs:{id:"comment"}},[s("div",{staticClass:"unauthorized-panel"},[s("router-link",{staticClass:"authorize-btn",attrs:{to:{name:"signIn"}}},[t._v("登录")]),t._v(" "),s("div",{staticClass:"placeholder"},[t._v("评论将在后台进行审核，审核通过后对所有人可见")])],1)])]),t._v(" "),s("BookComment")],1)])]),t._v(" "),s("div",{staticClass:"book-handle book-direction"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.bookInfoOther.prev,expression:"bookInfoOther.prev"}],staticClass:"step-btn step-btn--prev",on:{click:function(e){return t.lookChapter(t.bookInfoOther.prev.book_id)}}},[s("i",{staticClass:"el-icon-arrow-left"})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.bookInfoOther.next,expression:"bookInfoOther.next"}],staticClass:"step-btn step-btn--next",on:{click:function(e){return t.lookChapter(t.bookInfoOther.next.book_id)}}},[s("i",{staticClass:"el-icon-arrow-right"})])])])])])])])}),[],!1,null,"fd2733d0",null));e.default=b.exports},rUEC:function(t,e,s){"use strict";var i=s("/PXq");s.n(i).a},sFCI:function(t,e,s){"use strict";var i=s("a9wT"),a=s("MrL/"),o=s.n(a),n=[];e.a={methods:{$render(t,e){n=[];var s=o()(t,{breaks:!0});this.ishljs&&n.length>0&&this.$_render(t,e,s),e(s)},$_render(t,e,s){for(var a=0,o=0;o<n.length;o++){var r=this.p_external_link.hljs_lang(n[o]);Object(i.e)(r,(function(){(a+=1)===n.length&&e(s)}))}}}}},vOnc:function(t,e,s){},xIR0:function(t,e,s){}}]);